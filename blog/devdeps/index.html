<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Dependencies During Development</title><meta property="og:title" content="Dependencies During Development"><meta name=twitter:title content="Dependencies During Development"><meta name=description content="Barely Managing"><meta property="og:description" content="Barely Managing"><meta name=twitter:description content="Barely Managing"><meta name=author content="Morgaine Timms"><link href=https://timms.io/logo.ico rel=icon type=image/x-icon><meta property="og:url" content="https://timms.io/blog/devdeps/"><meta property="og:type" content="website"><meta property="og:site_name" content="TimmsIO"><link rel=canonical href=https://timms.io/blog/devdeps/><link rel=stylesheet href=/style.main.min.a57edc6b2eca52225ee1ca9511ac89c208bc66969722bbf2bf796a2c17fd18a7.css media=screen></head><body><nav id=primary-nav class="navbar is-black" role=navigation aria-label="main navigation"><div class=container><div class=navbar-brand><a class=navbar-item href=https://timms.io><img src=/logo.svg alt=TimmsIO><span class="site-title is-size-4" style=padding-left:1rem;padding-right:1rem>|| TimmsIO</span></a><div role=button class="navbar-burger burger" aria-label=menu aria-expanded=false data-target=navbarMenu><span aria-hidden=true></span><span aria-hidden=true></span><span aria-hidden=true></span></div></div><div class=navbar-menu id=navbarMenu><div class=navbar-start></div><div class=navbar-end><a class=navbar-item title=About href=/#contact>About</a><div class="navbar-item has-dropdown"><a class=navbar-link title=Posts>Posts</a><div class=navbar-dropdown><a class=navbar-item title=Blog href=/categories/blog/>Blog</a>
<a class=navbar-item title=Writeups href=/categories/writeups/>Writeups</a>
<a class=navbar-item title=CTFs href=/categories/ctfs>CTFs</a><hr class=navbar-divider><a class=navbar-item title=All href=/posts>All</a></div></div><a class=navbar-item title=Projects href=/projects>Projects</a></div></div></div></nav><div class=page-blocks></div><section class="hero is-medium" style=background-image:url(/blog/devdeps/thumb.hero_hu3d03a01dcc18bc5be0e67db3d8d209a6_93285_1600x1600_fit_q75_box.jpg)><div class="container hero-body has-text-centered" style="text-shadow:-1px 0 #000,0 1px #000,1px 0 #000,0 -1px #000"><h1 class="title is-1 has-text-white">Dependencies During Development</h1><h2 class="subtitle is-3 has-text-white">Barely Managing</h2></div></section><div class="columns is-gapless is-desktop"><div class=column><section class="section container content"><div class="tio-page columns is-centered"><div class="column is-four-fifths-tablet is-three-quarters-widescreen has-background-dark has-text-light"><p>This was originally published in the Kult of the Cyber Witch Zine, issue 01:
<a href=https://kultofthecyberw.itch.io/>https://kultofthecyberw.itch.io/</a></p><h1 id=dependencies-during-development-barely-managing>Dependencies During Development: Barely Managing</h1><p>Software relies on dependencies, but managing them is a hard problem.
They quickly become numerous and interwoven, stacking up technical debt and hiding serious vulnerabilities under mountains of abstraction.
But disaster can be avoided by taking a regimented approach to inclusion, identification, and remediation.</p><p>So, why is dependency management so hard?
Colloquially, infosec and developers don&rsquo;t share a unified definition for &ldquo;dependency management&rdquo;.
Effective communication is already undermined, so let&rsquo;s start at first principles and try to understand one another.</p><h2 id=establishing-a-rapport>Establishing a Rapport</h2><p>We&rsquo;ll start by defining dependency as required code that&rsquo;s referenced in a project&rsquo;s source control, but only included at build time.
Each dependency likely has dependencies.</p><p>From a development perspective &ldquo;Dependency Management&rdquo; is about ensuring the software&rsquo;s building blocks continue to be fit for purpose.
It&rsquo;s about consistency. If it works, leave it; if it already does it, don&rsquo;t redo the work.
Updating a dependency ties up developer time without changing how the product functions for end users.</p><p>From a security perspective, &ldquo;Dependency Management&rdquo; is tracking and updating dependencies, their dependencies, and remediating known vulnerabilities.
It&rsquo;s an exercise in logistics and managing risk.
Compensating for old, known-dangerous dependencies consumes blue team time without changing the overall security posture.</p><p>Managing these competing interests is an organisational and costing issue, and a totally different topic.
What matters now is recognising the potential for miscommunication.</p><h2 id=defining-the-problem-s>Defining the problem(s??)</h2><p>Often dependencies are installed and tracked using a package manager (composer, RubyGems, npm, etc).
It&rsquo;s simple and helps both developers and security, right? We&rsquo;ll get to that in a moment.</p><p>In infosec, we love assigning blame: either the thing is flawed or it was misused somehow.
The real problem with dependency management is that package managers are used <em><strong>exactly as intended</strong></em>.
Sure they can be misused, but let&rsquo;s assume perfect use for now.
All of the package managers listed above are <em>intentionally</em> capable of using managed dependency sources, arbitrary git repos, directories outside the project directory, and more.</p><p>Take, for example, a large PHP web app at a company with a sizable codebase.
At a minimum there are dependencies in .gitmodules, composer.json, and in multiple packages.json files.
These are valid and logical places to declare a dependency.</p><p>Without a single source of truth, answering &ldquo;Do you use &lt;<em>blank</em>&gt; library?&rdquo; requires manual investigation.
Probably involving multiple repos and packages.</p><p>Developers on large projects can&rsquo;t track quickly changing dependencies; security is the team really worried about them anyway.</p><p>Security teams don&rsquo;t have time to spelunk through repos; developers look at the repos a lot anyway.</p><p>Friction between teams is unavoidable: differing definitions, upset by the extra workload, and each with valid reasons why the other team should be responsible for it.
&ldquo;Process and compliance&rdquo; solutions drive the wedge deeper, and lag behind &ldquo;nightly-build&rdquo; workflow.</p><h2 id=a-unified-front>A Unified Front</h2><p>The solution, then, is to remove the responsibility of tracking dependencies from <em>both</em> teams.
Luckily, such a solution exists.</p><p>CI/CD pipelines minimise similar friction in the testing/QA process.
In this workflow, test-engineers and developers work collaboratively.
Broken code is (hopefully) caught before leaving development.
Fortunately for us, the build process collects the dependencies by necessity: so let&rsquo;s log them.
We&rsquo;ll make dependency management a code quality gate and fail builds on matches with threat intel.</p><p>So, how do we implement this?</p><p>Prioritise collaboration over compliance.
Both teams&rsquo;ll have some work to do.
Security needs to create a vulnerable-library register of dependencies, versions, and criticality.
Dev/Ops needs to modify the build to log dependency collection and compare them with the register.</p><p>Then there&rsquo;ll be the growing pain.
We&rsquo;ve put in place a solution to identify technical debt.
That means prioritised, deliberate cleanup work for everyone.
Dev has to devote a bit more time to these security tickets.
Security has to spend more time compensating for the uncovered vulnerabilities until they can be removed.
Project leads must agree a threshold at which a build fails, and accept the risk below that.</p><p>But once the backlog is cleared, we&rsquo;re left with a system where</p><ol><li>Libraries with known critical vulnerabilities won&rsquo;t make it into production ‚ú®</li><li>Security has an always up-to-date register of dependencies in use ü§ò</li><li>Developers can build, assured that external components are fit for purpose üëè</li><li>The Dev/Security relationship shifts towards harmony and collaboration üíñ</li></ol><p>Although our conceptions differ slightly, nobody wants to create a broken product.
And we can do that within our already established workflows!</p></div></div></section></div></div><link href=https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet integrity=sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN crossorigin=anonymous><noscript><style>.navbar-burger-toggle+.navbar-burger{margin-top:-3.5em}.navbar-burger-toggle:checked+.navbar-burger span:nth-child(1){transform:translateY(5px)rotate(45deg)}.navbar-burger-toggle:checked+.navbar-burger span:nth-child(2){opacity:0}.navbar-burger-toggle:checked+.navbar-burger span:nth-child(3){transform:translateY(-5px)rotate(-45deg)}.navbar-burger-toggle:checked~.navbar-menu{display:block}</style></noscript><script>'use strict';document.addEventListener('DOMContentLoaded',function(){var $dropdowns=getAll('.navbar-item.has-dropdown:not(.is-hoverable)');if($dropdowns.length>0){$dropdowns.forEach(function($el){$el.addEventListener('click',function(event){event.stopPropagation();$el.classList.toggle('is-active');});});document.addEventListener('click',function(event){closeDropdowns();});}
function closeDropdowns(){$dropdowns.forEach(function($el){$el.classList.remove('is-active');});}
document.addEventListener('keydown',function(event){var e=event||window.event;if(e.keyCode===27){closeDropdowns();}});var $burgers=getAll('.burger');if($burgers.length>0){$burgers.forEach(function($el){$el.addEventListener('click',function(){var target=$el.dataset.target;var $target=document.getElementById(target);$el.classList.toggle('is-active');$target.classList.toggle('is-active');});});}
function getAll(selector){return Array.prototype.slice.call(document.querySelectorAll(selector),0);}});</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-77343548-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-77343548-1');</script></body></html>